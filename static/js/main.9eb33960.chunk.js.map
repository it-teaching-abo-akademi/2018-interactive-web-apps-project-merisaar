{"version":3,"sources":["serviceWorker.js","components/stockData.js","components/Popup.js","components/graphDraw.js","components/portfolio.js","index.js"],"names":["Boolean","window","location","hostname","match","Stock","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this","react_default","a","createElement","stock","name","uv","currencySymbol","quantity","tv","onChange","e","setChecked","id","defaultChecked","checked","type","React","Component","PopUp","show","className","style","backdropStyle","position","top","bottom","left","right","backgroundColor","padding","modalStyle","borderRadius","maxWidth","minHeight","margin","children","onClick","onClose","Graph","closeModal","setState","open","onCloseModal","state","stocks","chartData","stockData","drawStockValueCurves","bind","assertThisInitialized","fetch","then","response","json","data","keys","dataL","days","reverse","values","map","day","concat","alert","list","selectIdList","j","length","select","document","getElementById","i","option","text","add","nameList","l","sD","Promise","all","_ref","asyncToGenerator","regenerator_default","mark","_callee2","wrap","_context2","prev","next","abrupt","_this2","fetchStockData","stop","_x2","apply","arguments","result","toConsumableArray","assign","console","log","time1","time2","addListToSelectTag","drawGraph","idx1","indexOf","idx2","namelist","isUndefined","realList","push","dataPoints","parseFloat","Array","isArray","_unused","_this3","index_es","center","classNames","overlay","styles","customOverlay","modal","customModal","value","index_esm","chartType","width","height","options","title","curveType","legend","Portfolio","popUpModal","isOpen","saveStock","newStock","newstock","objectSpread","toFixed","len","newStocksList","updatePortfolioState","onOpenModal","stopPropagation","totalValuOfStocks","totalValue","currency","newName","fetchCurrencyRate","changeName","saveNameChange","cancelNameChange","removeSelected","arr1","arr2","copyStocks","newTotalValue","total","cur1","cur2","curSymb","cr","results","val","stocksC","forEach","st","el","target","input","parentElement","firstChild","hasAttribute","removeAttribute","setAttribute","_this4","trim","div","nextSibling","_this5","n","split","cpy","_this6","selected","filter","_this7","stocksCpy","s","_this8","renObjData","index","stockData_Stock","key","openModal","graphDraw_Graph","src","closePortfolio","hidden","hideTextShowInput","Popup","App","onSetResult","localStorage","setItem","JSON","stringify","portfolio","pf","getItem","parse","addNewPortfolio","portfolioId","pfCopy","newPortfolio","portfolio_Portfolio","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9eb33960.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\n\nexport default class Stock extends React.Component {\n  constructor(props){\n    super(props);\n  }\n\n  render() {\n  return (\n    <tr>\n      <td><p>{this.props.stock.name}</p></td>\n      <td><p>{this.props.stock.uv}{this.props.currencySymbol}</p></td>\n      <td><p>{this.props.stock.quantity}</p></td>\n      <td><p>{this.props.stock.tv}{this.props.currencySymbol}</p></td>\n      <td><input onChange={(e) => {this.props.setChecked(e, this.props.stock.id)}} id ={'check-' +this.props.stock.id} defaultChecked = {this.props.stock.checked} type=\"checkbox\" ></input></td>\n    </tr>\n    \n  )\n  }\n}\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass PopUp extends React.Component {\r\n  render() {\r\n    // Render nothing if the \"show\" prop is false\r\n    if(!this.props.show) {\r\n      return null;\r\n    }\r\n\r\n    // The gray background\r\n    const backdropStyle = {\r\n      position: 'fixed',\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 5,\r\n      right: 0,\r\n      backgroundColor: 'rgba(0,0,0,0.3)',\r\n      padding: 50\r\n    };\r\n\r\n    // The modal \"window\"\r\n    const modalStyle = {\r\n      backgroundColor: '#fff',\r\n      borderRadius: 5,\r\n      maxWidth: 500,\r\n      minHeight: 300,\r\n      margin: '0 auto',\r\n      padding: 30\r\n    };\r\n\r\n    return (\r\n      <div className=\"backdrop\" style={{backdropStyle}}>\r\n        <div className=\"modal\" style={{modalStyle}}>\r\n          {this.props.children}\r\n\r\n          <div className=\"footer\">\r\n            <button onClick={this.props.onClose}>\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPopUp.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  show: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default PopUp;","import React from 'react'\nimport Chart from \"react-google-charts\";\nimport Modal from 'react-responsive-modal';\nimport styles from '../custom-styling.css';\n\nexport default class Graph extends React.Component{ \n  constructor(props) {\n    super(props);\n    this.state = {\n      stocks: this.props.stocks,\n      chartData: [],\n      stockData: [],\n      open: this.props.open,\n    };\n    this.drawStockValueCurves = this.drawStockValueCurves.bind(this)\n    // this.onOpenModal = this.onOpenModal.bind(this)\n    this.drawStockValueCurves()\n  }\n\n  //Closes modal\n  closeModal = () => {\n    this.setState({ open: false });\n    this.props.onCloseModal()\n  };\n  //Fetches stock data for past 10 recorded dates\n  async fetchStockData(name){\n    // return await fetch('https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=MSFT&apikey=demo')\n    return await fetch('https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=' + name + '&apikey=XDNRE3YNSC6MJXBQ')\n    .then(response => response.json())\n    .then(data => {\n      if(Object.keys(data)[0] === 'Note' || Object.keys(data)[0] === 'Error Message'){\n        alert('Only 5 request are allowed in one minute (by API)')\n      }else {\n        // console.log(data)\n        let dataL = data['Time Series (Daily)']\n        // console.log('dataL ',dataL)\n        let days = Object.keys(dataL).reverse()\n        // console.log('days ', days)\n        let values = []\n        values = days.map(day => values.concat(dataL[day])[0])\n        // console.log('values ',values)\n        return [values, days]\n      }\n    })\n  }\n  // //Fetches stock data for past 10 recorded dates\n  // async fetchStockData(name){\n  //   return await fetch('https://www.alphavantage.co/query?function='+name+'&symbol=USDEUR&interval=weekly&time_period=10&series_type=open&apikey=XDNRE3YNSC6MJXBQ')\n  //   .then(response => response.json())\n  //   .then(data => {\n  //     if(Object.keys(data)[0] === 'Note' || Object.keys(data)[0] === 'Error Message'){\n  //       alert('Only 5 request are allowed in one minute (by API)')\n  //     }else {\n  //       console.log(data)\n  //       let dataL = data['Technical Analysis: ' + name]\n  //       let days = Object.keys(dataL).reverse()\n  //       let values = []\n  //       values = days.map(day => values.concat(dataL[day])[0])\n  //       return [values, days]\n  //     }\n  //   })\n  // }\n  addListToSelectTag(list, selectIdList) {\n    for(var j = 0; j<selectIdList.length; j++){  \n      let select = document.getElementById(selectIdList[j])\n      for(var i = 0; i<list.length; i++){\n        var option = document.createElement(\"option\")\n        option.text = list[i]\n        select.add(option)\n        }\n      }\n  }\n //Draws curve\n async drawStockValueCurves() {\n  let stocks = this.state.stocks\n  let nameList = stocks.map(l => l.name)\n  let sD = []\n  await Promise.all(nameList.map(async (name) => \n    this.fetchStockData(name))).then(result => {\n      sD = [...result];\n      this.setState({stockData: Object.assign([], result)});\n      console.log('sD: ',sD)\n    })\n  let time1 = sD[0][1][sD[0][1].length-11]\n  let time2 = sD[0][1][sD[0][1].length-1]\n  this.addListToSelectTag(sD[0][1], ['time1', 'time2'])\n  this.drawGraph(time1, time2)\n}\n\ndrawGraph(time1, time2){\n  // e.stopPropagation()\n  let sD = Object.assign([], this.state.stockData)\n  let idx1 = sD[0][1].indexOf(time1)\n  let idx2 = sD[0][1].indexOf(time2)\n  if(!(idx1 <= idx2)){\n    alert('Time invalid')\n  } else {\n    let stocks = [...this.state.stocks]\n    let list = ['Time']\n    let namelist = stocks.map(l => l.name)\n    list =list.concat(namelist)\n    let isUndefined = false\n    let realList = []\n    realList.push(list)\n    try{\n      for(var i = idx1; i<idx2+1; i++){\n        let dataPoints = []\n        dataPoints = [sD[0][1][i]]\n        for(var j = 0; j<sD.length; j++){\n          dataPoints = dataPoints.concat(parseFloat(Object.values(sD[j][0][i])[0]))\n        }\n        if(!Array.isArray(dataPoints)){\n          // console.log(dataPoints)\n          isUndefined = true\n          break;\n        }\n        realList.push(dataPoints)\n      }\n    }catch{\n      console.log('error') \n    }\n    if(isUndefined === false){\n      this.setState({\n        chartData: realList,\n      });\n    } else {\n      alert('Only 5 request are allowed in one minute (by API)')\n    }\n    }\n}\n\nrender() {\n  const options = {\n    title: \"Stock value\",\n    curveType: \"function\",\n    legend: { position: \"bottom\" }\n  };\n  return(\n    <Modal \n        open={this.state.open} \n        onClose={this.closeModal} \n        center\n        classNames={{\n          overlay: styles.customOverlay,\n          modal: styles.customModal,\n        }}\n        >\n\n    <div>\n    <h2>Graph</h2>\n    Select by time\n    <select id='time1'><option>Select starting time</option></select>\n    <select id='time2'><option>Select ending time</option></select>        \n    <button onClick={(e) => {this.drawGraph(document.getElementById('time1').value, document.getElementById('time2').value)}}>Search</button>\n    <Chart\n      chartType=\"LineChart\"\n      width=\"700px\"\n      height=\"400px\"\n      data={this.state.chartData}\n      options={options}\n    />\n    </div>\n\n        </Modal>\n  )\n}\n}","import React from 'react'\nimport Stock from './stockData.js'\nimport '../App.css';\nimport PopUp from './Popup';\nimport Graph from './graphDraw';\n\nexport default class Portfolio extends React.Component{\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      stocks: this.props.stocks,\n      totalValuOfStocks:this.props.totalValue,\n      currency: 'EUR',\n      newName: '',\n      name: this.props.name,\n      id: this.props.id,\n      isOpen: false,\n      open:false,\n      newStock: {name : '', uv : 0, quantity : 0, tv:0},\n      chartData: [],\n      stockData: [],\n      currencySymbol: '€',\n    };\n    this.fetchCurrencyRate = this.fetchCurrencyRate.bind(this)\n    this.changeName =this.changeName.bind(this)\n    this.saveNameChange =this.saveNameChange.bind(this)\n    this.cancelNameChange =this.cancelNameChange.bind(this)\n    this.saveStock = this.saveStock.bind(this)\n    this.newStock = this.newStock.bind(this)\n    this.removeSelected = this.removeSelected.bind(this)\n    this.setChecked = this.setChecked.bind(this)\n    this.onOpenModal = this.onOpenModal.bind(this)\n\n  }\n  //Checks if arrays are equal\n  arraysEqual(arr1, arr2) {\n    if(arr1.length !== arr2.length)\n        return false;\n    for(var i = arr1.length; i--;) {\n        if(arr1[i] !== arr2[i])\n            return false;\n    }\n\n    return true;\n}\n  componentDidMount() {\n    let copyStocks = [...this.props.stocks]\n    let newTotalValue = 0\n    for(var i = 0; i<copyStocks.length; i++){\n      let total = copyStocks[i].uv*copyStocks[i].quantity\n      copyStocks[i].tv = total.toFixed(2)\n      copyStocks[i].checked = false\n      newTotalValue += total\n    }\n    newTotalValue = newTotalValue.toFixed(2)\n    this.setState({\n      stocks: copyStocks,\n      totalValuOfStocks: newTotalValue\n  }, () => {\n    this.props.updatePortfolioState(this.state.id, this.state.stocks, this.state.name)\n  });\n  // this.fetchStockValue()\n  }\n\n  //Fetches currency rate from API on click\n  fetchCurrencyRate(e, cur1, cur2, curSymb) {\n    e.stopPropagation();\n    fetch('https://free.currencyconverterapi.com/api/v6/convert?q=' + cur1 + '_' + cur2)\n      .then(response => response.json())\n      .then(data => {\n        if(cur2 !== this.state.currency){          \n          var cr = data.results[cur1 + '_'+ cur2].val\n          const stocksC =[...this.state.stocks]\n          stocksC.forEach(function(st){\n            st.uv = (st.uv*cr).toFixed(2)\n            st.tv = (st.uv*st.quantity).toFixed(2)\n          })\n          this.setState({\n            stocks: stocksC,\n            currency: cur2,\n            currencySymbol: curSymb,\n          });\n      }\n      })\n  }\n\n  //Toggles input and text\n  hideTextShowInput(e){\n    e.stopPropagation();\n    let el = e.target\n    let input = el.parentElement.firstChild\n    console.log(el.parentElement)\n    if(el.hasAttribute(\"hidden\")){\n       el.removeAttribute(\"hidden\")\n    }else{ \n      el.setAttribute(\"hidden\", true)}\n      input.removeAttribute(\"hidden\")\n  }\n  //Store name while typing\n  changeName(e){\n    e.stopPropagation();\n    this.setState({\n      newName:e.target.value,\n    })\n  }\n  //Saves modified portfolio name\n  saveNameChange(e){\n    e.stopPropagation();\n    if(this.state.newName.trim().length>1){\n      this.setState({\n        name: this.state.newName.trim()\n    }, () => {\n      this.props.updatePortfolioState(this.state.id, this.state.stocks, this.state.name)\n    });\n    } else {\n      alert('Name too short')\n    }\n    let div = e.target.parentElement\n    let text = div.nextSibling\n    div.setAttribute(\"hidden\", true)\n    text.removeAttribute(\"hidden\")\n  }\n  \n  //Cancels name change\n  cancelNameChange(e){\n    let div = e.target.parentElement\n    let text = div.nextSibling\n    div.setAttribute(\"hidden\", true)\n    text.removeAttribute(\"hidden\")\n  }\n\n  //Toggles popup\n  popUpModal = () => {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  //Restores new stock to state on change\n  newStock(e) {\n    e.stopPropagation();\n    const n = e.target.id.split('-')[0]\n    let cpy = {...this.state.newStock}\n    cpy[n] = e.target.value\n    this.setState({\n      newStock: cpy,\n  }, () => {\n    this.props.updatePortfolioState(this.state.id, this.state.stocks, this.state.name)\n  });\n  }\n  //Saves and add stock when clicking 'save'\n  saveStock = () => {\n    if(this.state.newStock.name.length>1 && this.state.newStock.quantity > 0){\n      let newstock =  {...this.state.newStock}\n      let name = newstock.name\n      if(this.state.stocks.length>=50){\n        alert('Maximum number of portfolios is 50')\n      } else {\n        fetch('https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol='+name+'&apikey=XDNRE3YNSC6MJXBQ')\n        .then(response => response.json())\n        .then(data => {\n          if(Object.keys(data)[0] === 'Note' || Object.keys(data)[0] === 'Error Message'){\n            console.log(Object.values(data)[0])\n            alert(Object.values(data)[0])\n          }else {\n            let dataL = data['Time Series (Daily)']\n            let day = Object.keys(dataL)[0]\n            let value = Object.values(dataL[day])[0]\n            newstock.uv = value\n            newstock.tv = (newstock.uv*newstock.quantity).toFixed(2)\n            newstock.checked = false\n            let len = this.state.stocks.length + 1\n            newstock.id = 'stock' + this.state.id + len \n            var newStocksList = this.state.stocks.concat(newstock)\n            this.setState({\n              stocks: newStocksList,\n              isOpen: !this.state.isOpen\n          }, () => {\n            this.props.updatePortfolioState(this.state.id, this.state.stocks, this.state.name)\n          });\n          }\n        })\n      }\n    }\n  }\n  //Removes selected columns and stocks\n  removeSelected (e) {\n    let stocksCopy = [...this.state.stocks]\n    let selected = stocksCopy.filter(stock => stock.checked === false)\n    \n    this.setState({\n      stocks: selected}, () => {\n    this.props.updatePortfolioState(this.state.id, this.state.stocks, this.state.name)\n});\n  }\n  //Sets checked to true in state stock when clicking the checkbox\n  setChecked (e, id) {\n    e.stopPropagation()\n    let stocksCpy = Object.assign([], this.state.stocks);\n    let stock = stocksCpy.filter(s=> s.id === id)[0]\n    stock.checked ? stock.checked = false : stock.checked = true\n    console.log('stocksCopy ', stocksCpy)\n    this.setState({\n      stocks: stocksCpy,\n  }, () => {\n    this.props.updatePortfolioState(this.state.id, this.state.stocks, this.state.name)\n  });\n\n  }\n\n  //Opens modal and draws graph\n  onOpenModal = (e) => {\n    e.stopPropagation();\n    this.setState({ open: true });\n  };\n  //Closes modal\n  onCloseModal = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    const renObjData = this.state.stocks.map((data, index) =>\n          <Stock stock ={data} key={index} setChecked={this.setChecked} currencySymbol={this.state.currencySymbol}/>\n    );\n    const openModal = (this.state.open === true) ?\n      <Graph stocks={this.state.stocks} onCloseModal={this.onCloseModal} open={this.state.open}></Graph> : ''\n    \n\n    return (\n      <div className=\"card\">\n      <script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n      <button onClick={(e) => {this.props.closePortfolio(e, this.state.id)}} className = 'close' ></button>\n      <div><div hidden><input onChange={this.changeName} id={this.props.name}></input><button onClick={this.saveNameChange}>Save</button><button onClick={this.cancelNameChange}>Cancel</button></div><p onClick={this.hideTextShowInput}>{this.state.name}</p></div>\n       <div className=\"btngroup\">\n            <button onClick={(e) => {this.fetchCurrencyRate(e, 'USD', 'EUR', '€')}} className=\"button\" id=\"desktop\" >\n            Show in €\n          </button>\n            <button onClick={(e) => {this.fetchCurrencyRate(e, 'EUR', 'USD', '$')}} className=\"button\" id=\"mobile\" >\n            show in $\n          </button>\n\n      </div>\n  \n    <div className=\"table-wrapper\">\n        <table className=\"blueTable\">\n        <tbody>\n          <tr><th>Name</th><th>Value</th><th>Quantity</th><th>Total</th><th>Select</th></tr>\n          {renObjData}\n          </tbody>\n\n        </table>\n        </div>\n        <div className=\"btngroup\">\n\n        <button onClick={this.popUpModal} className=\"button\" id=\"desktop\" >\n        Add in stock\n        </button>\n\n        <button onClick={this.onOpenModal} className=\"button\" id=\"mobile\" >\n        Perf graph         \n        </button>\n        <button onClick={this.removeSelected} className=\"button\" id=\"mobile\" >\n        Remove selected\n        </button>\n        <div>Total stock value: {this.state.totalValuOfStocks}{this.state.currencySymbol}</div>\n        </div>\n        <PopUp show={this.state.isOpen}\n                  onClose={this.popUpModal}>\n                  <form onChange={this.newStock}>\n                  Name: <input id={'name-'+this.state.id} type=\"text\"></input>\n                  Quantity:<input id={'quantity-'+this.state.id} type=\"number\"></input>\n                  <button onClick={this.saveStock}type=\"button\">Save</button>\n                  </form>\n                </PopUp>\n                {openModal}\n                </div>\n            \n              \n            )\n          }\n        }","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './App.css';\r\nimport Portfolio from './components/portfolio.js'\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    let pf = localStorage.getItem('portfolio')\r\n    console.log(pf)\r\n    if(pf !== null){\r\n      pf = JSON.parse(pf)\r\n    } else {\r\n      pf = []\r\n    }\r\n    this.state = {\r\n      portfolio: pf, \r\n      }\r\n      this.addNewPortfolio = this.addNewPortfolio.bind(this);\r\n      this.closePortfolio = this.closePortfolio.bind(this)\r\n      this.updatePortfolioState = this.updatePortfolioState.bind(this)\r\n    }\r\n\r\n    //Set result to state and localStorage\r\n    onSetResult = (result, key) => {\r\n      localStorage.setItem(key, JSON.stringify(result));\r\n      this.setState({ portfolio: result });\r\n    }\r\n    //Updates portfolio when stock updates\r\n    updatePortfolioState(portfolioId, stocks, name){\r\n      let pfCopy =  Object.assign([],  this.state.portfolio);\r\n      for(var i = 0; i<pfCopy.length; i++){\r\n        if(pfCopy[i].id === portfolioId){\r\n          pfCopy[i].name = name\r\n          pfCopy[i].stocks = stocks\r\n        }\r\n      }\r\n      this.setState({portfolio: pfCopy})\r\n      this.onSetResult(pfCopy, 'portfolio')\r\n    }\r\n    //Adds new empty portfolio\r\n    addNewPortfolio (e) {\r\n      e.stopPropagation();\r\n      let len = this.state.portfolio.length +1\r\n      if(len<=10){\r\n      let newPortfolio = { name: 'Portfolio ' + len, id: len, stocks: []}\r\n      this.setState({\r\n        portfolio: this.state.portfolio.concat([newPortfolio])\r\n      });\r\n      this.onSetResult(this.state.portfolio.concat([newPortfolio]), 'portfolio')\r\n    } else { \r\n      alert('Too many portfolios. Max amount of portfolios is 10.')\r\n    }\r\n    }\r\n    //Closes and deletes portfolio\r\n    closePortfolio(e, id){\r\n      e.stopPropagation();\r\n      let portfolios = [...this.state.portfolio]\r\n      let selected = portfolios.filter(portfolio => portfolio.id !==  id)\r\n      this.setState({portfolio: selected});\r\n      this.onSetResult(selected, 'portfolio')\r\n  }\r\n\r\n    render(){\r\n      //Adds portfolios from state to the page\r\n      const renObjData = this.state.portfolio.map( (data,index) =>\r\n            <Portfolio name={data.name} totalValue={0} updatePortfolioState={this.updatePortfolioState} stocks={data.stocks} closePortfolio={this.closePortfolio} key = {index} id={data.id} />\r\n        );\r\n    return (\r\n      <div className=\"App\">\r\n        <header >\r\n\r\n        </header>\r\n        <body>\r\n        <div className=\"addPortfolio\"> <button onClick={this.addNewPortfolio}>Add portfolio</button></div>\r\n        <div className=\"row\">\r\n          {renObjData}\r\n\r\n          </div>\r\n        </body>\r\n        \r\n      </div>\r\n\r\n  )\r\n    }\r\n}\r\n\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}